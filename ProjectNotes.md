# URL Structure
- `ourwebsite.com/api/q/1ads34` the random number is a nano id used to uniquely identify the qr code.
- `ourwebsite.com/api/auth/login`
- `ourwebsite.com/api/auth/signup`
- `ourwebsite.com/api/analytics/{qr_code_id}` okay there are going to be two types of IDs for qr code one is the url one and the other for uniquely identifing the qrcode or I can use the same id for both and add a constraint that you cannot view analytics if you are not that user
- `ourwebsite.com/api/q/new` to create new one
- `ourwebsite.com/api/q/delete` to delete it. The *POST* request

___I'll make the doc for the api in Postman___ 
## How nano id will be generated
nano id will probably be generated by using the name of the qr code, removing the space and adding a randomly generated 3 or 4 digit number to it. 10 characters long

# how will the data models look like?
### qr code

| Field           | Type          | Description                               |
| --------------- | ------------- | ----------------------------------------- |
| id              | string / UUID | Unique short ID used in the QR URL        |
| name            | string        | Optional name like “Summer Campaign 2025” |
| destination_url | string        | The current redirect target               |
| created_at      | datetime      | When the QR code was created              |
| updated_at      | datetime      | When the destination was last changed     |
| active          | boolean       | Whether the QR is currently active        |
| user_id         | foreign key   | Owner of this QR code                     |
| qr_code_image   | base64        | The image of the qrcode stored in base64  |

--- 
### QRScan /  Analytics
| Field       | Type          | Description                        |
| ----------- | ------------- | ---------------------------------- |
| id          | UUID          | Unique ID for each scan event      |
| qr_id       | foreign key   | Which QRCode was scanned           |
| scanned_at  | datetime      | When the scan occurred             |
| ip_address  | string        | IP (can be anonymized for privacy) |
| user_agent  | string        | Browser or app info                |
| device_type | string        | Mobile, desktop, tablet            |
| location    | string / JSON | Country/city (resolved from IP)    |
| referrer    | string        | Source link, if any                |

---
### or with a lot of data:
| Field                 |                                Type | Notes                                                                    |
| --------------------- | ----------------------------------: | ------------------------------------------------------------------------ |
| id                    |                                UUID | event id                                                                 |
| qr_id                 |                                  FK | which QRCode                                                             |
| scanned_at            |                            datetime | timestamp (UTC)                                                          |
| ip_address_hash       |                              string | hashed or anonymized IP (store raw only if you need it and have consent) |
| ip_country            |                              string | ISO country code                                                         |
| ip_region             |                              string | state/region                                                             |
| ip_city               |                              string | city                                                                     |
| ip_lat                |                               float | approximate latitude from IP (nullable)                                  |
| ip_lon                |                               float | approximate longitude from IP (nullable)                                 |
| geo_accuracy          |                                 int | meters (if provided by device) or `null` for IP-based                    |
| geo_source            |             enum {ip, device, none} | how location was obtained                                                |
| user_agent            |                              string | raw UA                                                                   |
| browser_name          |                              string | parsed (Chrome, Safari, etc.)                                            |
| os_name               |                              string | parsed OS                                                                |
| device_type           | enum {mobile, tablet, desktop, bot} | inferred                                                                 |
| screen_width          |                                 int | optional (from JS)                                                       |
| screen_height         |                                 int | optional                                                                 |
| timezone              |                              string | optional (from JS)                                                       |
| language              |                              string | Accept-Language or navigator.language                                    |
| referrer              |                              string | raw Referer header                                                       |
| referrer_host         |                              string | parsed host (if any)                                                     |
| utm_source            |                              string | parsed from querystring if present                                       |
| utm_medium            |                              string | ""                                                                       |
| utm_campaign          |                              string | ""                                                                       |
| landing_page          |                              string | first page URL served (if using landing page)                            |
| session_id            |                              string | for grouping sequential scans from same session                          |
| first_seen_for_qr     |                             boolean | whether this is the first scan for this device/session (computed)        |
| is_unique_24h         |                             boolean | whether unique in 24-hour window (optional precompute)                   |
| is_bot                |                             boolean | heuristics                                                               |
| network_type          |                              string | mobile/wifi/inferred                                                     |
| banner_id / placement |                              string | optional: which physical placement or campaign slot                      |
| extra_meta            |                                json | store other headers, client hints, or vendor data                        |
| created_at            |                            datetime | ingestion time                                                           |

---
### Users
| Field      | Type     | Description            |
| ---------- | -------- | ---------------------- |
| id         | UUID     | Unique user identifier |
| email      | string   | User’s email           |
| name       | string   | User’s name            |
| created_at | datetime | Account creation date  |


# Considerations
May wanna use